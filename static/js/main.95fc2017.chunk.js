(this["webpackJsonpdrinks-builder"]=this["webpackJsonpdrinks-builder"]||[]).push([[0],{35:function(e,t,n){"use strict";n.r(t);var c=n(19),i=n(10),a=n(6),s=n(25),r=n.n(s),l=n(22),o=n(4),d=function(e){return Object(o.jsxs)("button",{className:"toggle-button ".concat(e.className),id:e.id,type:e.type,children:[Object(o.jsx)("span",{onClick:e.onClick,className:"toggle-button__icon",children:Object(o.jsx)(l.a,{})}),Object(o.jsx)("span",{className:"toggle-button__label",children:e.label})]})},u=function(e){var t=Object(a.useRef)(),n=Object(a.useState)(0),c=Object(i.a)(n,2),s=c[0],r=c[1];return Object(a.useEffect)((function(){s!==e.ingredients.length&&(s<e.ingredients.length&&(t.current.scrollTop=t.current.scrollHeight),r(e.ingredients.length))}),[e.ingredients,s]),Object(o.jsx)("ul",{ref:t,className:"grid-list",children:e.ingredients.map((function(t){return Object(o.jsx)("li",{className:"grid-list__item",children:Object(o.jsx)(d,{id:t.ingredient_id,label:t.ingredient_name,onClick:e.onClick.bind(null,t.ingredient_id),className:e.className},t.ingredient_id)},t.ingredient_id)}))})},b=function(e){var t=Object(a.useRef)(),n=Object(a.useState)(""),c=Object(i.a)(n,2),s=c[0],r=c[1];return Object(o.jsx)("button",{className:e.className?"select-tile ".concat(e.className):"select-tile",id:e.tileId,onMouseLeave:function(){r("")},onMouseMove:function(e){var n=t.current.getBoundingClientRect(),c=n.width,i=n.height,a=e.nativeEvent.offsetX,s=e.nativeEvent.offsetY,l=Math.floor(a/c*100),o=Math.floor(s/i*100);r("radial-gradient(circle at ".concat(l,"% ").concat(o,"%, #f7d9ee 1%, #f8bae6 100%)"))},ref:t,style:{background:"".concat(s)},type:e.tileType,children:e.tileLabel})},j=function(e){return e.matchedCocktails.map((function(e){return Object(o.jsx)(b,{tileId:e.cocktail_id,tileLabel:e.cocktail_name})}))},f=n(23),h=function(e){return Object(o.jsx)("div",{className:"input__wrap",children:Object(o.jsx)("input",Object(f.a)(Object(f.a)({className:"input"},e.input),{},{children:e.label}))})},m=function(e){return Object(o.jsx)("li",{children:Object(o.jsx)("button",{type:"button",className:"dropdown__button",onClick:function(t){e.onItemClick(t)}.bind(null,e.itemId),children:e.itemName})})},g=function(e){return Object(o.jsx)("ul",{className:"dropdown",children:e.dropdownItems.map((function(t){return Object(o.jsx)(m,{itemId:t.ingredient_id,itemName:t.ingredient_name,onItemClick:e.onItemClick},t.ingredient_id)}))})},O=function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)([]),l=Object(i.a)(r,2),d=l[0],u=l[1],b=function(e){s(e.target.value.toLowerCase())};return Object(a.useEffect)((function(){var t=[];""!==c&&" "!==c&&(t=e.ingredients.filter((function(e){return e.ingredient_name.toLowerCase().includes(c)}))),u(t)}),[c,e.ingredients]),Object(o.jsxs)("form",{className:"search-form",children:[Object(o.jsx)(h,{input:{placeholder:"Enter an ingredient",onChange:b,onKeyDown:b,value:c}}),d&&0!==d.length&&Object(o.jsx)(g,{onItemClick:e.selectedIngs,dropdownItems:d})]})},p=function(e){return Object(o.jsx)("h1",{className:"heading",children:e.children})},x=function(e){return Object(o.jsx)("h2",{className:e.className?"subheading ".concat(e.className):"subheading",children:e.children})},k=function(e){return Object(o.jsx)("div",{className:e.className?"content-block ".concat(e.className):"content-block",children:e.children})},N=n(26),v=(n(36),N.a.initializeApp({apiKey:"AIzaSyBVVGlf7EUHV0BOpPcBg5QgJNrixyNKnmw",authDomain:"drinks-builder.firebaseapp.com",databaseURL:"https://drinks-builder-default-rtdb.europe-west1.firebasedatabase.app",projectId:"drinks-builder",storageBucket:"drinks-builder.appspot.com",messagingSenderId:"827979470509",appId:"1:827979470509:web:7fcd358b83950b18009824"}).database()),_=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)([]),l=Object(i.a)(r,2),d=l[0],b=l[1],f=Object(a.useState)([]),h=Object(i.a)(f,2),m=h[0],g=h[1],N=Object(a.useState)([]),_=Object(i.a)(N,2),C=_[0],I=_[1];Object(a.useEffect)((function(){v.ref("ingredients").on("value",(function(e){var t=e.val();g(t)})),v.ref("cocktails").on("value",(function(e){var t=e.val();s(t)}))}),[]);var w=function(e,t){var n=e.findIndex((function(e){return e.ingredient_id===t}));return e[n]};return Object(a.useEffect)((function(){var e=[],t=[];d.forEach((function(t){e.push(t.ingredient_id)})),e.sort(),n.forEach((function(n){n.cocktail_ingredient_ids.sort().every((function(t){return e.includes(t)}))&&t.push(n)})),I(t)}),[d,n]),Object(o.jsxs)("div",{className:"content",children:[Object(o.jsxs)(p,{children:["Cocktails",Object(o.jsx)("sup",{className:"heading__sup",children:"Alpha!"})]}),Object(o.jsx)(x,{children:"A tool to quickly and simply find a cocktail to make with the ingredients you have."}),Object(o.jsxs)(k,{className:"content-block--with-flex",children:[Object(o.jsx)(O,{selectedIngs:function(e){var t=w(m,e);b((function(e){return[].concat(Object(c.a)(e),[t])})),g((function(t){return t.filter((function(t){return t.ingredient_id!==e}))}))},ingredients:m}),0!==d.length&&Object(o.jsx)(u,{ingredients:d,onClick:function(e){var t=w(d,e);g((function(e){return[].concat(Object(c.a)(e),[t])})),b((function(t){return t.filter((function(t){return t.ingredient_id!==e}))}))},className:"ingredients__item"})]}),0!==C.length&&Object(o.jsxs)(k,{children:[Object(o.jsx)(x,{className:"subheading--semi-bold",children:"Results"}),Object(o.jsx)(j,{matchedCocktails:C})]})]})};r.a.render(Object(o.jsx)(_,{}),document.querySelector("#root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.95fc2017.chunk.js.map